<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Strict//EN">
<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
<head>
<meta http-equiv="Content-Language" content="en-us">
<title>Guide</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>

<h1 align="center" style="text-align:center">Building Lua, IM, CD and IUP in 
Linux</h1>
<p>This is a guide to build all the Lua, IM, CD and IUP libraries in Linux. 
Notice that you may not use all the libraries, although this guide will show you 
how to build all of 
them. You may then choose to build specific libraries.</p>
<p>The Linux used as reference is the Ubuntu distribution.</p>
<h3>System Configuration</h3>
<p>You will have to download the development version of some packages installed 
on your system. Although the run time version of some of these packages are 
already installed, the development versions are usually not. The packages 
described here are for Ubuntu, but you will be able to identify them for other 
systems as well.</p>
<p>To build Lua you will need:</p>
			<pre>libreadline5-dev</pre>
		<p>To build IM you will need:</p>
			<pre>g++</pre>
		<p>To build CD you will need:</p>
<pre>libx11-dev
libxpm-dev
libxmu-dev
  libxft-dev (for the XRender driver, OPTIONAL)
libgtk2.0-dev (for the GDK driver)</pre>

<p>To build IUP you will need:</p>
<pre>libgtk2.0-dev (for the GTK driver) [already installed for CD]
  libmotif-dev and x11proto-print-dev (for the Motif driver, OPTIONAL)
libgl1-mesa-dev and libglu1-mesa-dev (for the IupGLCanvas)</pre>
<h3>Source Download</h3>
<p>Download the &quot;xxx-X.X_Sources.tar.gz&quot; package from the &quot;<strong>Docs and Sources</strong>&quot; 
folder for the version you want to build. Here are links for the <strong>Files</strong> section 
in <strong>Source Forge</strong>:</p>
<p>Lua - <a href="http://sourceforge.net/projects/luabinaries/files/">
http://sourceforge.net/projects/luabinaries/files/</a><br>
IM - <a href="http://sourceforge.net/projects/imtoolkit/files/">
http://sourceforge.net/projects/imtoolkit/files/</a><br>
CD - <a href="http://sourceforge.net/projects/canvasdraw/files/">
http://sourceforge.net/projects/canvasdraw/files/</a><br>
IUP - <a href="http://sourceforge.net/projects/iup/files/">
http://sourceforge.net/projects/iup/files/</a></p>
<p>To extract the files use the tar command, for example &quot;tar -xpvzf iup-3.2_Sources.tar.gz&quot;.</p>
<h3>Unpacking</h3>
<p>If you are going to build all the libraries, the makefiles and projects 
expect the following directory tree:</p>
<pre>/xxxx/
      cd/
      im/
      iup/
      lua5.1/  [optional, see note bellow]</pre>

<p>If you unpack all the source packages in the same folder that structure will 
be automatically created.</p>
<h3>Lua</h3>
<p>Although we use Lua from LuaBinaries, any Lua installation can also be used. 
In Ubuntu, the Lua run time package is:</p>
<pre>lua5.1</pre>
<p>And the Lua development package is:</p>
<pre>liblua5.1-0-dev</pre>
<p>To install them you can use the Synaptic Package Manager and select the 
packages, or can use the command line and type:</p>
<pre>sudo apt-get install lua5.1
sudo apt-get install liblua5.1-0-dev </pre>
<p>To use them, instead of the folder &quot;/xxxx/lua5.1&quot; described above, you will have to define some environment variables before building IM, CD and 
IUP:</p>
<pre class="example">export LUA_SUFFIX=
export LUA_INC=/usr/include/lua5.1</pre>
<h3>Building</h3>

<p>As a general rule (excluding system dependencies): IUP depends on CD and IM, 
and CD depends on IM. So start by build IM, then CD, then IUP.</p>
<p>To start building go the the &quot;<strong>src</strong>&quot; folder and type &quot;<strong>make</strong>&quot;. In IUP there are 
many &quot;srcxxx&quot; folders, so go to the up folder &quot;iup&quot; and type 
&quot;<strong>make</strong>&quot; that all the 
sub folders will be built.</p>
<p><strong>TIP</strong>: Instead of building all the libraries, try building only the libraries you 
are going to use. The provided makefiles will build all the libraries, but take 
a look inside them and you will figure out how to build just one library. </p>
<h3>Pre-compiled Binaries</h3>
<p>Instead of building from sources you can try to use the pre-compiled 
binaries. Usually they were build in the latest Ubuntu versions for 32 and 64 
bits. The packages are located in the &quot;<strong>Linux Libraries</strong>&quot; folder 
under the <strong>Files</strong> section 
in <strong>Source Forge</strong>, with <strong>&quot;xxx-X.X_Linux26g4_lib</strong>.<strong>tar.gz&quot;</strong> 
and <strong>&quot;xxx-X.X_Linux26g4_64_lib.tar.gz&quot;</strong> names.</p>
<p>Do not extract the pre-compiled binaries in the same directory, create a 
subdirectory to do that, for example:</p>
<pre>mkdir iup
cd iup
tar -xpvzf iup-3.2_Linux26g4_lib.tar.gz
mkdir -p lib/Linux26g4
mv *.so *.a lib/Linux26g4         [this is just to make the following instructions simpler]</pre>
<h3>Installation (System Folder)</h3>

<p>After building you can copy the libraries files to the system folder. If you are inside 
the main folder, to install the run time libraries you can type:</p>
<pre>sudo cp iup/lib/Linux26g4/*.so /usr/lib</pre>
<p>To install the development files, 
then do:</p>
<pre>sudo cp -R iup/include/* /usr/include/iup
sudo cp iup/lib/Linux26g4/*.a /usr/lib</pre>
<p>Then in your makefile use -Iiup -Icd -Iim for includes. There is no need to 
specify the libraries folder with -L.</p>
<h4>Installation (Build Folder) [Alternative]</h4>
<p>If you <strong>don't</strong> want to copy the run time libraries to your system 
folder, you can use them from build folder. You will need to add the run time 
libraries folders to 
the LD_LIBRARY_PATH, for example:</p>
<pre>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/xxxx/iup/lib/Linux26g4:/xxxx/cd/lib/Linux26g4:/xxxx/im/lib/Linux26g4</pre>
<p>And in your makefile will will also need to specify those paths 
when linking using -L/xxxx/iup/lib/Linux26g4, and for compiling use 
-I/xxxx/iup/include.</p>
<h3>Installation (Lua Modules)</h3>
<p>Lua modules in Ubuntu are installed in the &quot;/usr/lib/lua/5.1&quot; folder. So to 
be able to use require with IUP, CD and IM you must create symbolic links inside 
that folder.</p>
<pre>sudo cd /usr/lib/lua/5.1         [must previously create it, if does not exist]
sudo ln -s /usr/lib/libiuplua51.so iuplua.so
sudo ln -s /usr/lib/libiupluacontrols51.so iupluacontrols.so
...</pre>
<p>Using those links you do not need any extra configuration. </p>
<h4>Installation (Lua Modules) [Alternative]</h4>
<p>If you use the <strong>alternative</strong> installation folder, and you also 
do NOT use the LuaBinaries installation, then you must set the LUA_CPATH environment variable:</p>
<pre>export LUA_CPATH=./\?.so\;./lib\?.so\;./lib\?51.so\;</pre>
<p><br>
</p>

</body>

</html>